@use '../../theme/theme'
@use '../../dirndl/multi/icons/ellipsis-vertical.svg.data-url-rule' as ellipsis-vertical
@use '../../dirndl/cmp/context-menu'
@use '../../dirndl/cmp/choices'
@use '../../dirndl/cmp/heading'
@use '../../dirndl/cmp/action'
@use '../../dirndl/cmp/search-definition-editor/search-definition-editor' as search-definition-editor

$header-height: 50px
$font-family: Arial
$background-color: #84A4FC
$color: white
$hover-color: black
$vertical-gap: 0.5rem
$padding: $vertical-gap 2rem
$item-gap: 2.5rem

@mixin contents
  width: 100%
  font-family: $font-family
  display: grid
  align-items: center
  grid-template-columns: 1fr 68rem 1fr
  grid-template-areas: "left mid right" "search search search"
  align-content: center
  box-sizing: border-box
  justify-self: center
  position: sticky
  top: 0
  z-index: 2
  background-color: $background-color
  color: $color
  padding: $padding
  justify-self: stretch
  grid-column: 1 / -1
  column-gap: 1rem
  // let search use vertical padding - that'll result in no gap if it's empty
  //row-gap: $vertical-gap
  min-height: $header-height

  a:hover, button:hover
    color:  $hover-color


  >left, >right
    flex: 1

    display: flex

    align-items: center
    gap: $item-gap


  >left
    justify-content: flex-start
    grid-area: left

    > a.name
      white-space: nowrap
      color: $color
      text-decoration: none

      &:hover
        color: $color
        text-decoration: underline

  > mid
    grid-area: mid
    display: flex
    justify-content: center

  > right
    justify-content: flex-end
    grid-area: right

    > *
      cursor: pointer

    > dropdown
      display: inline-block
      width: 20px
      height: 20px

      > button
        filter: invert(1)
        @include action.content
        cursor: pointer

        &.dotburger
          @include ellipsis-vertical.content

  > search
    grid-area: search
    display: grid
    grid-template-columns: 1fr min-content

    &:focus-within, &:hover
      background: white
      transition: all 0.3s

    > search-definition-editor
      @include search-definition-editor.contents
      padding-top: $vertical-gap
      
      edit
        width: auto

        &:empty:before
          content: 'Search filters'
          color: #777


overlay > menu
  @include context-menu.context-menu-std-padding
  @include context-menu.context-menu-text-only

  > heading
    @include heading.panel-2

  > choices
    @include choices.vertical
    margin-bottom: 0.5rem